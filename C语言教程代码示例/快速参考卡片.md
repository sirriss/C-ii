# C语言快速参考卡片

> 专为M1 MacBook Pro用户设计

## 编译命令

```bash
# 使用GCC编译器（推荐）
gcc-14 文件名.c -o 输出文件名

# 使用Clang编译器（macOS自带）
clang 文件名.c -o 输出文件名

# 添加调试信息
gcc-14 -g 文件名.c -o 输出文件名

# 显示所有警告
gcc-14 -Wall 文件名.c -o 输出文件名
```

## 运行程序

```bash
./输出文件名
```

## 基本数据类型（M1架构）

| 类型 | 大小 | 范围 |
|------|------|------|
| `char` | 1字节 | -128 到 127 |
| `int` | 4字节 | -2,147,483,648 到 2,147,483,647 |
| `float` | 4字节 | 约 ±3.4 × 10^38 |
| `double` | 8字节 | 约 ±1.7 × 10^308 |
| `long` | 8字节 | 约 ±9.2 × 10^18 |

## 格式说明符

| 说明符 | 用途 |
|--------|------|
| `%d` | 整数 |
| `%f` | 浮点数 |
| `%c` | 字符 |
| `%s` | 字符串 |
| `%lf` | 双精度浮点数 |
| `%.2f` | 保留2位小数的浮点数 |

## 运算符优先级（从高到低）

1. `()` 括号
2. `++ -- !` 自增自减逻辑非
3. `* / %` 乘除取余
4. `+ -` 加减
5. `< <= > >=` 关系运算
6. `== !=` 相等运算
7. `&&` 逻辑与
8. `||` 逻辑或
9. `=` 赋值

## 控制结构

### if-else语句
```c
if(条件) {
    // 代码块
} else if(条件) {
    // 代码块
} else {
    // 代码块
}
```

### switch语句
```c
switch(表达式) {
    case 值1:
        // 代码块
        break;
    case 值2:
        // 代码块
        break;
    default:
        // 默认代码块
}
```

### for循环
```c
for(初始化; 条件; 更新) {
    // 循环体
}
```

### while循环
```c
while(条件) {
    // 循环体
}
```

### do-while循环
```c
do {
    // 循环体
} while(条件);
```

## 数组

### 一维数组
```c
// 声明和初始化
int arr[5] = {1, 2, 3, 4, 5};

// 访问元素
arr[0] = 10;
int x = arr[2];
```

### 二维数组
```c
// 声明和初始化
int matrix[2][3] = {
    {1, 2, 3},
    {4, 5, 6}
};

// 访问元素
matrix[0][1] = 10;
```

## 函数

### 函数定义
```c
返回类型 函数名(参数列表) {
    // 函数体
    return 返回值;
}
```

### 示例
```c
int add(int a, int b) {
    return a + b;
}

void say_hello() {
    printf("Hello!\n");
}
```

## 指针基础

### 指针声明
```c
int *ptr;      // 指向int的指针
char *str;     // 指向char的指针
```

### 取地址和解引用
```c
int num = 10;
int *ptr = &num;  // 取地址
int value = *ptr; // 解引用，value = 10
```

### 指针和数组
```c
int arr[5] = {1, 2, 3, 4, 5};
int *ptr = arr;  // 数组名就是首地址

// 访问元素
printf("%d", *(ptr + 2));  // 输出：3
```

## 常用库函数

### 字符串函数（需要#include <string.h>）
```c
strlen(str)     // 字符串长度
strcpy(dest, src) // 字符串复制
strcat(dest, src) // 字符串连接
strcmp(str1, str2) // 字符串比较
```

### 数学函数（需要#include <math.h>）
```c
sqrt(x)         // 平方根
pow(x, y)       // x的y次方
abs(x)          // 绝对值
sin(x), cos(x)  // 三角函数
```

### 输入输出函数（需要#include <stdio.h>）
```c
printf()        // 输出
scanf()         // 输入
gets()          // 读取字符串（不安全）
fgets()         // 安全读取字符串
```

## M1 MacBook Pro特殊说明

### Homebrew路径
```bash
# M1芯片的Homebrew路径
/opt/homebrew/bin/brew

# Intel芯片的Homebrew路径
/usr/local/bin/brew
```

### GCC编译器路径
```bash
# M1芯片的GCC路径
/opt/homebrew/bin/gcc-14

# 创建别名方便使用
echo 'alias gcc="gcc-14"' >> ~/.zshrc
source ~/.zshrc
```

### VS Code配置

确保在 `.vscode/tasks.json` 中使用正确的路径：
```json
"command": "/opt/homebrew/bin/gcc-14"
```

## 常见错误及解决

### 1. 忘记分号
```c
// 错误
int x = 10

// 正确
int x = 10;
```

### 2. 数组越界
```c
int arr[5];
arr[5] = 10;  // 错误！最大索引是4
```

### 3. scanf忘记取地址符
```c
int x;
scanf("%d", x);   // 错误！应该是 &x
scanf("%d", &x);  // 正确
```

### 4. 字符串比较错误
```c
char str1[] = "hello";
char str2[] = "hello";

if(str1 == str2)  // 错误！比较的是地址
if(strcmp(str1, str2) == 0)  // 正确
```

## 调试技巧

### 使用printf调试
```c
printf("变量x的值: %d\n", x);
```

### 设置断点
在VS Code中点击行号左侧设置断点，然后按F5调试。

### 查看变量值
使用调试器的变量监视功能，或在代码中添加打印语句。

## 快捷键（VS Code）

- `Cmd + R`：运行程序
- `Cmd + B`：编译程序
- `F5`：开始调试
- `Shift + F5`：停止调试
- `Cmd + /`：注释/取消注释

## 学习资源

- 📚 [C语言教程PDF](../C语言零基础教程_M1MBP专属版.md)
- 💻 [Apple Developer Documentation](https://developer.apple.com/documentation/)
- 🌐 [C语言标准库参考](https://en.cppreference.com/w/c)
- 💬 [Stack Overflow](https://stackoverflow.com/questions/tagged/c)

---

**记住：多练习，多思考，多总结！💪**
